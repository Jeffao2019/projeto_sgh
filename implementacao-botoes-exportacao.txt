
// Implementa√ß√£o melhorada para os bot√µes de exporta√ß√£o
// Cole este c√≥digo no arquivo DadosBackup.tsx

const handleExportarDados = async (categoria: string) => {
  console.log(`üîÑ Exportando dados de ${categoria}...`);
  
  try {
    // Simular chamada √† API
    const response = await fetch(`/api/export/${categoria.toLowerCase()}`, {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      }
    });
    
    if (response.ok) {
      const blob = await response.blob();
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.style.display = 'none';
      a.href = url;
      a.download = `${categoria.toLowerCase()}_${new Date().toISOString().split('T')[0]}.json`;
      document.body.appendChild(a);
      a.click();
      window.URL.revokeObjectURL(url);
      document.body.removeChild(a);
      
      console.log(`‚úÖ ${categoria} exportado com sucesso!`);
    } else {
      throw new Error('Falha na exporta√ß√£o');
    }
  } catch (error) {
    console.error(`‚ùå Erro ao exportar ${categoria}:`, error);
    alert(`Erro ao exportar ${categoria}. Tente novamente.`);
  }
};
